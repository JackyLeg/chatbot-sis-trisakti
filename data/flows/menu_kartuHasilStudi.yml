flows:
  kartuHasilStudi:
      name: Kartu Hasil Studi
      description: |
        Help user with kartu hasil studi menus
        User may refer this as: "KHS", "khs", "hasil", "hasil studi", or "kartu hasil studi"
        while bot not do utter_answer_batal_khs and if user gets their result, flow will continue to what user want to do next in this menu
      steps:
        - id: ask_menu
          collect: menu_kartuHasilStudi
          ask_before_filling: true
          description: |
            User must select one of 4 options for kartu hasil studi.
            There are options like Prosedur KHS, Persyaratan KHS, Transaksi KHS, and Hasil KHS.
          next: menu_confirmation

        - id: menu_confirmation
          collect: menu_kartuHasilStudi_confirmation
          ask_before_filling: true
          next:
          - if: slots.menu_kartuHasilStudi_confirmation is false
            then:
              - action: utter_menu_kartuHasilStudi_cancelled
                next: ask_menu
          - else: continue_flow

        - id: continue_flow
          action: action_menu_kartuHasilStudi
          next:
            - if: slots.return_value = "Prosedur KHS"
              then: 
                - action: utter_answer_prosedur_khs
                  next: ask_menu
            - if: slots.return_value = "Persyaratan KHS"
              then: 
                - action: utter_answer_persyaratan_khs
                  next: ask_menu
            - if: slots.return_value = "Transaksi KHS"
              then: 
                - action: utter_answer_transaksi_khs
                  next: ask_menu
            - if: slots.return_value = "Hasil KHS"
              then: 
                - action: utter_answer_hasil_khs
                  next: ask_menu
            - else: 
                - action: utter_answer_error_khs
                  next: ask_menu